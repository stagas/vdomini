<h1 align="center">vdomini</h1>

<p align="center">
mini jsx-compatible virtual dom
</p>

<p align="center">
   <a href="#install">        🔧 <strong>Install</strong></a>
 · <a href="#example">        🧩 <strong>Example</strong></a>
 · <a href="#api">            📜 <strong>API docs</strong></a>
 · <a href="https://github.com/stagas/vdomini/releases"> 🔥 <strong>Releases</strong></a>
 · <a href="#contribute">     💪🏼 <strong>Contribute</strong></a>
 · <a href="https://github.com/stagas/vdomini/issues">   🖐️ <strong>Help</strong></a>
</p>

---

## Install

```sh
$ npm i vdomini
```

## Goals

- Minimal-to-zero API.

- **Fast. Stable. Predictable.**

- **No surprises.**

- **Compact. Readable. Hackable.**

- **Minimal error surface -** With code as little as possible there can only be a handful of ways that
  something can go wrong and when it does it won't be because _"Issue [#47665]()"_ hasn't been resolved yet.

- When an error occurs you can **inspect** it, you're always one navigation away from its [**readable source code**]()
  and the understanding of what caused it and possibly **how to solve it**.

- **No bells and whistles -** All operations are as close as possible to the **Real DOM(tm)**. No fibers, monads,
  queues, portals, signals, no tons of layers of complexity between your **_intention_** and the **_operation_**.

- **No learning curve -** You already know how to write HTML and to manipulate it using JavaScript.
  This is only abstracting **_a few_** DOM operations, which you also already know.

- **No setup -** There are no plugins, transformers, transpilations that you need to learn or specific tools you need to use, besides TypeScript, which is excellent. If you're setup with TypeScript, then this is simply one npm install away. It's more like a library than a framework.

## Example

```tsx
/** @jsx h */
/** @jsxFrag Fragment */

import { h, Fragment, render } from 'vdomini'

declare const task: HTMLInputElement

const addTodo = () =>
  (todos.unshift({
    id: Math.random(),
    text: task.value,
  }) &&
    update()) ||
  (task.value = '')

const Todo = ({ text }: { text: string }) => <li>{text}</li>

const TodoApp = ({ todos }: { todos: Todos }) => (
  <>
    <h1>My Todo App</h1>
    <input
      id="task"
      type="string"
      autoFocus
      onKeyDown={(e: KeyboardEvent) => {
        e.key === 'Enter' && addTodo()
      }}
    ></input>
    <button onClick={addTodo}>Add Todo</button>
    <ul>
      {todos.map(todo => (
        <Todo key={todo.id} {...todo} />
      ))}
    </ul>
  </>
)

type Todos = { id: number; text: string }[]

const todos: Todos = []

const update = () => render(<TodoApp todos={todos} />, document.body)

update()
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

- [VTag](#vtag)
- [VProps](#vprops)
- [VChildren](#vchildren)
- [VNode](#vnode)
- [h](#h)

### VTag

[src/index.ts:13-13](https://github.com/stagas/vdomini/blob/3451c6d79dbb806e1c86d3ef7ea1142732195a35/src/index.ts#L10-L12 'Source code on GitHub')

VTag.

Type: T

### VProps

[src/index.ts:18-18](https://github.com/stagas/vdomini/blob/3451c6d79dbb806e1c86d3ef7ea1142732195a35/src/index.ts#L15-L17 'Source code on GitHub')

VProps.

Type: (Record<[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), any> | null)

### VChildren

[src/index.ts:23-23](https://github.com/stagas/vdomini/blob/3451c6d79dbb806e1c86d3ef7ea1142732195a35/src/index.ts#L20-L22 'Source code on GitHub')

VChildren.

Type: [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)<([VNode](#vnode)\<any> | [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String))>

### VNode

[src/index.ts:28-28](https://github.com/stagas/vdomini/blob/3451c6d79dbb806e1c86d3ef7ea1142732195a35/src/index.ts#L25-L27 'Source code on GitHub')

VNode.

Type: {tag: T, props: [VProps](#vprops)?, children: [VChildren](#vchildren)}

#### Properties

- `tag` **T**
- `props` **[VProps](#vprops)?**
- `children` **[VChildren](#vchildren)**

### h

[src/index.ts:38-46](https://github.com/stagas/vdomini/blob/3451c6d79dbb806e1c86d3ef7ea1142732195a35/src/index.ts#L38-L46 'Source code on GitHub')

The virtual node factory. Returns the tree of the node and its children.

#### Parameters

- `tag` **T** The node's tag. `lowercase`-first tags become strings,
  `Uppercase`-first are passed by reference.
- `props` **[VProps](#vprops)** Props object, `kebab-case` keys are converted to `camelCase`.
- `children` **...[VChildren](#vchildren)** The children nodes.

Returns **[VNode](#vnode)\<T>**

## Contribute

[Fork](https://github.com/stagas/vdomini/fork) or
[edit](https://github.dev/stagas/vdomini) and submit a PR.

All contributions are welcome!

## License

MIT © 2021
[stagas](https://github.com/stagas)
