var e=Symbol(),t=(e,t,...r)=>({type:e,props:t,children:r});function r(e){let t="";for(let r=0,n="";r<e.length;r++)n=e.charAt(r),t+=n>="A"&&n<="Z"?"-"+n.toLowerCase():n;return t}var n={createElement:document.createElement,createAttribute:document.createAttribute},o={createElement:document.createElementNS.bind(document,"http://www.w3.org/2000/svg"),createAttribute:document.createAttributeNS.bind(document,"http://www.w3.org/2000/svg")},s=new Set,c=new WeakMap,l=new WeakMap,i=new WeakMap,a=(e,t,r,n,o,s)=>{switch(n){case"key":return;case"ref":return void(o.current=e);case"value":case"checked":if("input"===r)return void(e[n]=o);case"style":return e.setAttribute("style",o),void(s.style=e.getAttributeNode("style"))}const c=n;let l;switch(typeof o){case"string":case"number":return e.setAttributeNode(l=s[n]=t.createAttribute.call(document,c)),void(l.value=o);case"function":return e.setAttributeNode(l=s[n]=t.createAttribute.call(document,c)),l.value="",void(e[c]=o);case"boolean":return void(o&&(e.setAttributeNode(l=s[n]=t.createAttribute.call(document,c)),l.value=""));default:e[n]=o}},p=(e,t,r,n,o={})=>{for(const s in n)a(e,t,r,s,n[s],o);c.set(e,{props:n,attrs:o})},u=(e,t,r,n)=>{if(!c.has(e))return n&&p(e,t,r,n);const o=c.get(e),{attrs:s,props:l}=o;if(!n){for(const t in s)e.removeAttributeNode(s[t]);for(const t in l)delete e[t];return void c.delete(e)}let i;e:for(const t in l)if(t in n){switch(i=n[t],t){case"ref":e!==i.current&&(i.current=e);continue e;case"value":case"checked":if("input"===r){e[t]!==i&&(e[t]=i);continue e}}if(l[t]!==i)if("function"==typeof i){const r=t;l[r]=e[r]=i}else t in s||(e[t]=i)}else delete e[t];for(const t in s)t in n&&!1!==n[t]?l[t]!==(i=n[t])&&"function"!=typeof i&&(s[t].value=i):(e.removeAttributeNode(s[t]),delete s[t]);for(const o in n)o in s||o in l||a(e,t,r,o,n[o],s);o.props=n},d=(t,s=n)=>{switch(typeof t){case"string":case"number":return[t.toString()];case"boolean":case"undefined":return[""]}if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++)e.push(...d(t[r],s));return e.keyed=null!=e[0]?.props?.key,e}const c=t.type;if("function"==typeof c){const e=b.hook={vNode:t,doc:s},r=t.type({...t.props,children:t.children});return i.set(r,e),null!=t.props?.key&&(r.props={key:t.props.key}),d(r,s)}switch(c){case e:return d(t.children,s);case"svg":s=o;default:t.props?.style&&"object"==typeof t.props.style&&(t.props.style=(e=>{let t="";for(const n in e)t+=r(n)+":"+e[n]+";";return t})(t.props.style));const l={doc:s,type:c,props:t.props,children:d(t.children,"foreignObject"===c&&n||s)};return i.has(t)&&i.set(l,i.get(t)),[l]}},f=({doc:e,type:t,props:r,children:n})=>{const o=e.createElement.call(document,t);if(r&&p(o,e,t,r),n.keyed)g(o,n);else for(let e=0;e<n.length;e++)h(o,n[e]);return o},h=(e,t)=>{let r;return"string"==typeof t?r=t:(r=f(t),m(t,e,r)),e.append(r),r},y=(e,t,r)=>{"string"!=typeof r?(m(r,e,t),t.nodeName.toUpperCase()===r.type.toUpperCase()?(u(t,r.doc,r.type,r.props),v(t,r.children)):e.replaceChild(f(r),t)):r!==t.nodeValue&&(t.nodeValue=r)},g=(e,t)=>{const r=new Map;for(let n=0;n<t.length;n++){const o=t[n];r.set(o.props.key,{i:n,el:h(e,o)})}l.set(e,r)},v=(e,t)=>{if(l.has(e)){s.clear();const r=l.get(e);for(let n,o=0;o<t.length;o++){const c=t[o],l=c.props.key;let i;if(s.add(l),r.has(l)){const t=r.get(l);i=t.el,u(i,c.doc,c.type,c.props),v(i,c.children),t.i>o&&(t.i=o,o?n.after(i):e.prepend(i))}else i=f(c),r.set(l,{i:o,el:i}),o?n.after(i):e.prepend(i);m(c,e,i),n=i}for(const t of r.keys())s.has(t)||(e.removeChild(r.get(t).el),r.delete(t));return}if(t.keyed)return void g(e,t);const r=e.childNodes,n=r.length;if(t.length>=n){for(let o=0;o<n;o++)y(e,r[o],t[o]);for(let r=n;r<t.length;r++)h(e,t[r])}else{for(let r=t.length;r<n;r++)e.removeChild(e.lastChild);for(let n=0;n<t.length;n++)y(e,r[n],t[n])}},b={hook:null},m=(e,t,r)=>{if(!i.has(e))return;const n=i.get(e);n.parent=t,n.child=r},w=e=>y(e.parent,e.child,d(e.vNode,e.doc)[0]),k=(e,t)=>v(t,d(e));export{e as Fragment,b as current,t as h,i as hookCache,k as render,w as trigger};