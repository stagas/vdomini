var e=Symbol(),t=(e,t,...r)=>({type:e,props:t,children:r});function r(e){let t="";for(let r=0,n="";r<e.length;r++)n=e.charAt(r),t+=n>="A"&&n<="Z"?"-"+n.toLowerCase():n;return t}var n={createElement:document.createElement},o={createElement:document.createElementNS.bind(document,"http://www.w3.org/2000/svg")},s=new Set,c=new WeakMap,i=new WeakMap,l=new WeakMap,p=(e,t,r,n,o)=>{switch(r){case"key":return;case"ref":return void(n.current=e);case"value":case"checked":if("input"===t)return void(e[r]=n);case"style":return e.setAttribute("style",n),void(o.style=e.getAttributeNode("style"))}const s=r;switch(typeof n){case"string":case"number":return e.setAttribute(s,n),void(o[s]=e.getAttributeNode(s));case"function":return e.setAttribute(s,""),o[s]=e.getAttributeNode(s),void(e[r]=n);case"boolean":return void(n&&(e.setAttribute(s,""),o[s]=e.getAttributeNode(s)));default:e[r]=n}},a=(e,t,r,n={})=>{for(const o in r)p(e,t,o,r[o],n);c.set(e,{props:r,attrs:n})},u=(e,t,r)=>{if(!c.has(e))return r&&a(e,t,r);const n=c.get(e),{attrs:o,props:s}=n;if(!r){for(const t in o)e.removeAttributeNode(o[t]);for(const t in s)delete e[t];return void c.delete(e)}let i;e:for(const n in s)if(n in r){switch(i=r[n],n){case"ref":e!==i.current&&(i.current=e);continue e;case"value":case"checked":if("input"===t){e[n]!==i&&(e[n]=i);continue e}}if(s[n]!==i)if("function"==typeof i){const t=n;s[t]=e[t]=i}else n in o||(e[n]=i)}else delete e[n];for(const t in o)t in r&&!1!==r[t]?s[t]!==(i=r[t])&&"function"!=typeof i&&(o[t].value=i):(e.removeAttributeNode(o[t]),delete o[t]);for(const n in r)n in o||n in s||p(e,t,n,r[n],o);n.props=r},d=(t,s=n)=>{switch(typeof t){case"string":case"number":return[{create:h,replace:f,text:""+t}];case"boolean":case"undefined":return[{create:h,replace:f,text:""}]}if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++)e.push(...d(t[r],s));return e.keyed=null!=e[0]?.props?.key,e}const c=t.type;if("function"==typeof c){if(Object.getPrototypeOf(c)!==Function.prototype)throw new Error("CustomElement constructors are not implemented yet");const e=b.hook={vNode:t,doc:s},r=c({...t.props,children:t.children});return l.set(r,e),null!=t.props?.key&&(r.props={key:t.props.key,...r.props}),d(r,s)}switch(c){case e:{const e=d(t.children,s);return l.has(t)&&l.set(e[0],l.get(t)),e}case"svg":s=o;default:t.props?.style&&"object"==typeof t.props.style&&(t.props.style=(e=>{let t="";for(const n in e)t+=r(n)+":"+e[n]+";";return t})(t.props.style));const i={create:y,replace:g,doc:s,type:c,props:t.props,children:d(t.children,"foreignObject"===c&&n||s)};return l.has(t)&&l.set(i,l.get(t)),[i]}};function h(){return document.createTextNode(this.text)}function f(e,t){if("#text"!==t.nodeName){const r=this.create();return w(this,e,r),void e.replaceChild(r,t)}w(this,e,t),this.text!==t.nodeValue&&(t.nodeValue=this.text)}function y(){const{doc:e,type:t,props:r,children:n}=this,o=e.createElement.call(document,t);if(r&&a(o,t,r),n.keyed)m(o,n);else for(let e=0;e<n.length;e++)v(o,n[e]);return o}function g(e,t){if(t.nodeName.toUpperCase()!==this.type.toUpperCase()){const r=this.create();return w(this,e,r),void e.replaceChild(r,t)}w(this,e,t),u(t,this.type,this.props),k(t,this.children)}var v=(e,t)=>{const r=t.create();return w(t,e,r),e.append(r),r},m=(e,t)=>{const r=new Map;for(let n=0;n<t.length;n++){const o=t[n];r.set(o.props.key,{i:n,el:v(e,o)})}i.set(e,{prev:t,keys:r})},k=(e,t)=>{if(i.has(e))return void((e,t,r)=>{s.clear();const{prev:n,keys:o}=t;for(let t,c=0;c<r.length;c++){const i=r[c],l=i.props.key;let p;if(s.add(l),o.has(l)){const r=o.get(l);p=r.el,u(p,i.type,i.props),k(p,i.children),r.i>c&&(o.get(n[c].props.key).i=r.i,r.i=c),c?t.after(p):e.prepend(p)}else p=i.create(),o.set(l,{i:c,el:p}),c?t.after(p):e.prepend(p);w(i,e,p),t=p}for(const t of o.keys())s.has(t)||(e.removeChild(o.get(t).el),o.delete(t));t.prev=r})(e,i.get(e),t);if(t.keyed)return void m(e,t);const r=e.childNodes,n=r.length;if(t.length>=n){for(let o=0;o<n;o++)t[o].replace(e,r[o]);for(let r=n;r<t.length;r++)v(e,t[r])}else{for(let r=t.length;r<n;r++)e.removeChild(e.lastChild);for(let n=0;n<t.length;n++)t[n].replace(e,r[n])}},b={hook:null},w=(e,t,r)=>{if(!l.has(e))return;const n=l.get(e);n.parent=t,n.child=r},A=e=>{const t=d(e.vNode,e.doc);t.length>1?k(e.parent,t):t[0].replace(e.parent,e.child)},N=(e,t)=>{k(t,d(e))},C=()=>{const e=b.hook;return()=>A(e)},x=e=>{const t=C();return function(...r){const n=e.apply(this,r);return t(),n}};export{e as Fragment,b as current,t as h,N as render,A as trigger,x as useCallback,C as useHook};