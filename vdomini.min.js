var e=Symbol(),t=(e,t,...r)=>({type:e,props:t,children:r});function r(e){let t="";for(let r=0,n="";r<e.length;r++)n=e.charAt(r),t+=n>="A"&&n<="Z"?"-"+n.toLowerCase():n;return t}var n={createElement:document.createElement,createAttribute:document.createAttribute},o={createElement:document.createElementNS.bind(document,"http://www.w3.org/2000/svg"),createAttribute:document.createAttributeNS.bind(document,"http://www.w3.org/2000/svg")},c=new Set,s=new WeakMap,i=new WeakMap,l=new WeakMap,a=(e,t,r,n,o,c)=>{switch(n){case"key":return;case"ref":return void(o.current=e);case"value":case"checked":if("input"===r)return void(e[n]=o);case"style":return e.setAttribute("style",o),void(c.style=e.getAttributeNode("style"))}const s=n;let i;switch(typeof o){case"string":case"number":return e.setAttributeNode(i=c[n]=t.createAttribute.call(document,s)),void(i.value=o);case"function":return e.setAttributeNode(i=c[n]=t.createAttribute.call(document,s)),i.value="",void(e[s]=o);case"boolean":return void(o&&(e.setAttributeNode(i=c[n]=t.createAttribute.call(document,s)),i.value=""));default:e[n]=o}},p=(e,t,r,n,o={})=>{for(const c in n)a(e,t,r,c,n[c],o);s.set(e,{props:n,attrs:o})},u=(e,t,r,n)=>{if(!s.has(e))return n&&p(e,t,r,n);const o=s.get(e),{attrs:c,props:i}=o;if(!n){for(const t in c)e.removeAttributeNode(c[t]);for(const t in i)delete e[t];return void s.delete(e)}let l;e:for(const t in i)if(t in n){switch(l=n[t],t){case"ref":e!==l.current&&(l.current=e);continue e;case"value":case"checked":if("input"===r){e[t]!==l&&(e[t]=l);continue e}}if(i[t]!==l)if("function"==typeof l){const r=t;i[r]=e[r]=l}else t in c||(e[t]=l)}else delete e[t];for(const t in c)t in n&&!1!==n[t]?i[t]!==(l=n[t])&&"function"!=typeof l&&(c[t].value=l):(e.removeAttributeNode(c[t]),delete c[t]);for(const o in n)o in c||o in i||a(e,t,r,o,n[o],c);o.props=n},d=(t,c=n)=>{switch(typeof t){case"string":case"number":return[{create:h,replace:f,text:""+t}];case"boolean":case"undefined":return[{create:h,replace:f,text:""}]}if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++)e.push(...d(t[r],c));return e.keyed=null!=e[0]?.props?.key,e}const s=t.type;if("function"==typeof s){if(Object.getPrototypeOf(s)!==Function.prototype)throw new Error("CustomElement constructors are not implemented yet");const e=w.hook={vNode:t,doc:c},r=s({...t.props,children:t.children});return l.set(r,e),null!=t.props?.key&&(r.props={key:t.props.key}),d(r,c)}switch(s){case e:{const e=d(t.children,c);return l.has(t)&&l.set(e[0],l.get(t)),e}case"svg":c=o;default:t.props?.style&&"object"==typeof t.props.style&&(t.props.style=(e=>{let t="";for(const n in e)t+=r(n)+":"+e[n]+";";return t})(t.props.style));const i={create:y,replace:g,doc:c,type:s,props:t.props,children:d(t.children,"foreignObject"===s&&n||c)};return l.has(t)&&l.set(i,l.get(t)),[i]}};function h(){return document.createTextNode(this.text)}function f(e,t){k(this,e,t),this.text!==t.nodeValue&&(t.nodeValue=this.text)}function y(){const{doc:e,type:t,props:r,children:n}=this,o=e.createElement.call(document,t);if(r&&p(o,e,t,r),n.keyed)v(o,n);else for(let e=0;e<n.length;e++)m(o,n[e]);return o}function g(e,t){if(t.nodeName.toUpperCase()!==this.type.toUpperCase()){const r=this.create();return k(this,e,r),void e.replaceChild(r,t)}k(this,e,t),u(t,this.doc,this.type,this.props),b(t,this.children)}var m=(e,t)=>{const r=t.create();return k(t,e,r),e.append(r),r},v=(e,t)=>{const r=new Map;for(let n=0;n<t.length;n++){const o=t[n];r.set(o.props.key,{i:n,el:m(e,o)})}i.set(e,r)},b=(e,t)=>{if(i.has(e))return void((e,t,r)=>{c.clear();for(let n,o=0;o<r.length;o++){const s=r[o],i=s.props.key;let l;if(c.add(i),t.has(i)){const r=t.get(i);l=r.el,u(l,s.doc,s.type,s.props),b(l,s.children),r.i>o&&(r.i=o,o?n.after(l):e.prepend(l))}else l=s.create(),t.set(i,{i:o,el:l}),o?n.after(l):e.prepend(l);k(s,e,l),n=l}for(const r of t.keys())c.has(r)||(e.removeChild(t.get(r).el),t.delete(r))})(e,i.get(e),t);if(t.keyed)return void v(e,t);const r=e.childNodes,n=r.length;if(t.length>=n){for(let o=0;o<n;o++)t[o].replace(e,r[o]);for(let r=n;r<t.length;r++)m(e,t[r])}else{for(let r=t.length;r<n;r++)e.removeChild(e.lastChild);for(let n=0;n<t.length;n++)t[n].replace(e,r[n])}},w={hook:null},k=(e,t,r)=>{if(!l.has(e))return;const n=l.get(e);n.parent=t,n.child=r},A=e=>{const t=d(e.vNode,e.doc);t.length>1?b(e.parent,t):t[0].replace(e.parent,e.child)},N=(e,t)=>{b(t,d(e))},C=()=>{const e=w.hook;return()=>A(e)},x=e=>{const t=C();return()=>(e(),t())};export{e as Fragment,w as current,t as h,N as render,A as trigger,x as useCallback,C as useHook};