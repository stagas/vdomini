var e=Symbol(),t=(e,t,...r)=>({type:e,props:t,children:r});function r(e){let t="";for(let r=0,n="";r<e.length;r++)n=e.charAt(r),t+=n>="A"&&n<="Z"?"-"+n.toLowerCase():n;return t}var n={createElement:document.createElement,createAttribute:document.createAttribute},o={createElement:document.createElementNS.bind(document,"http://www.w3.org/2000/svg"),createAttribute:document.createAttributeNS.bind(document,"http://www.w3.org/2000/svg")},s=new Set,c=new WeakMap,i=new WeakMap,l=new WeakMap,a=(e,t,r,n,o,s)=>{switch(n){case"key":return;case"ref":return void(o.current=e);case"value":case"checked":if("input"===r)return void(e[n]=o);case"style":return e.setAttribute("style",o),void(s.style=e.getAttributeNode("style"))}const c=n;let i;switch(typeof o){case"string":case"number":return e.setAttributeNode(i=s[n]=t.createAttribute.call(document,c)),void(i.value=o);case"function":return e.setAttributeNode(i=s[n]=t.createAttribute.call(document,c)),i.value="",void(e[c]=o);case"boolean":return void(o&&(e.setAttributeNode(i=s[n]=t.createAttribute.call(document,c)),i.value=""));default:e[n]=o}},p=(e,t,r,n,o={})=>{for(const s in n)a(e,t,r,s,n[s],o);c.set(e,{props:n,attrs:o})},u=(e,t,r,n)=>{if(!c.has(e))return n&&p(e,t,r,n);const o=c.get(e),{attrs:s,props:i}=o;if(!n){for(const t in s)e.removeAttributeNode(s[t]);for(const t in i)delete e[t];return void c.delete(e)}let l;e:for(const t in i)if(t in n){switch(l=n[t],t){case"ref":e!==l.current&&(l.current=e);continue e;case"value":case"checked":if("input"===r){e[t]!==l&&(e[t]=l);continue e}}if(i[t]!==l)if("function"==typeof l){const r=t;i[r]=e[r]=l}else t in s||(e[t]=l)}else delete e[t];for(const t in s)t in n&&!1!==n[t]?i[t]!==(l=n[t])&&"function"!=typeof l&&(s[t].value=l):(e.removeAttributeNode(s[t]),delete s[t]);for(const o in n)o in s||o in i||a(e,t,r,o,n[o],s);o.props=n},d=(t,s=n)=>{switch(typeof t){case"string":case"number":return[{create:h,replace:f,text:""+t}];case"boolean":case"undefined":return[{create:h,replace:f,text:""}]}if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++)e.push(...d(t[r],s));return e.keyed=null!=e[0]?.props?.key,e}const c=t.type;if("function"==typeof c){if(Object.getPrototypeOf(c)!==Function.prototype)throw new Error("CustomElement constructors are not implemented yet");const e=k.hook={vNode:t,doc:s},r=c({...t.props,children:t.children});return l.set(r,e),null!=t.props?.key&&(r.props={key:t.props.key,...r.props}),d(r,s)}switch(c){case e:{const e=d(t.children,s);return l.has(t)&&l.set(e[0],l.get(t)),e}case"svg":s=o;default:t.props?.style&&"object"==typeof t.props.style&&(t.props.style=(e=>{let t="";for(const n in e)t+=r(n)+":"+e[n]+";";return t})(t.props.style));const i={create:y,replace:v,doc:s,type:c,props:t.props,children:d(t.children,"foreignObject"===c&&n||s)};return l.has(t)&&l.set(i,l.get(t)),[i]}};function h(){return document.createTextNode(this.text)}function f(e,t){w(this,e,t),this.text!==t.nodeValue&&(t.nodeValue=this.text)}function y(){const{doc:e,type:t,props:r,children:n}=this,o=e.createElement.call(document,t);if(r&&p(o,e,t,r),n.keyed)m(o,n);else for(let e=0;e<n.length;e++)g(o,n[e]);return o}function v(e,t){if(t.nodeName.toUpperCase()!==this.type.toUpperCase()){const r=this.create();return w(this,e,r),void e.replaceChild(r,t)}w(this,e,t),u(t,this.doc,this.type,this.props),b(t,this.children)}var g=(e,t)=>{const r=t.create();return w(t,e,r),e.append(r),r},m=(e,t)=>{const r=new Map;for(let n=0;n<t.length;n++){const o=t[n];r.set(o.props.key,{i:n,el:g(e,o)})}i.set(e,{prev:t,keys:r})},b=(e,t)=>{if(i.has(e))return void((e,t,r)=>{s.clear();const{prev:n,keys:o}=t;for(let t,c=0;c<r.length;c++){const i=r[c],l=i.props.key;let a;if(s.add(l),o.has(l)){const r=o.get(l);a=r.el,u(a,i.doc,i.type,i.props),b(a,i.children),r.i>c&&(o.get(n[c].props.key).i=r.i,r.i=c),c?t.after(a):e.prepend(a)}else a=i.create(),o.set(l,{i:c,el:a}),c?t.after(a):e.prepend(a);w(i,e,a),t=a}for(const t of o.keys())s.has(t)||(e.removeChild(o.get(t).el),o.delete(t));t.prev=r})(e,i.get(e),t);if(t.keyed)return void m(e,t);const r=e.childNodes,n=r.length;if(t.length>=n){for(let o=0;o<n;o++)t[o].replace(e,r[o]);for(let r=n;r<t.length;r++)g(e,t[r])}else{for(let r=t.length;r<n;r++)e.removeChild(e.lastChild);for(let n=0;n<t.length;n++)t[n].replace(e,r[n])}},k={hook:null},w=(e,t,r)=>{if(!l.has(e))return;const n=l.get(e);n.parent=t,n.child=r},A=e=>{const t=d(e.vNode,e.doc);t.length>1?b(e.parent,t):t[0].replace(e.parent,e.child)},N=(e,t)=>{b(t,d(e))},C=()=>{const e=k.hook;return()=>A(e)},x=e=>{const t=C();return function(...r){const n=e.apply(this,r);return t(),n}};export{e as Fragment,k as current,t as h,N as render,A as trigger,x as useCallback,C as useHook};